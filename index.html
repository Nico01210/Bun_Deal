<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Bun_Deal index</title>
  <link rel="stylesheet" href="style.css" />
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet" />

  <style>
       .card-img-top {
      width: 100%;
      height: 400px;
      object-fit: cover;
      border-radius: 12px;
      box-shadow: 0 4px 16px rgba(0,0,0,0.08);
    }
  </style>
</head>
<body class="home-page">

<!-- Overlay pour fermer le menu mobile -->
<div class="nav-overlay"></div>

<!-- Navbar avec menu burger -->
<nav class="menu">
  <div class="navbar-container">
    <a href="/index.html" class="logo">
      <img src="images/Logo.png" alt="Logo Bun'Deal" class="logo-navbar">
    </a>
    
    <!-- Menu burger (visible sur mobile/tablette) -->
    <div class="burger-menu">
      <span></span>
      <span></span>
      <span></span>
    </div>
    
    <!-- Navigation links -->
    <ul class="nav-links">
      <li><a href="/index.html" data-translate="nav.home">Accueil</a></li>
      <li><a href="apropos.html" data-translate="nav.about">A propos</a></li>
      <li><a href="/menu.html" data-translate="nav.menu">Menu</a></li>
      <li><a href="/Contact.html" data-translate="nav.contact">Contact</a></li>
      <li><a href="#" id="open-cart" style="font-weight:bold;">ðŸ›’ <span data-translate="nav.cart">Panier</span> (<span id="cart-count">0</span>)</a></li>
      <li>
        <button id="lang-toggle" class="btn btn-outline-light btn-sm">ðŸ‡¬ðŸ‡§ EN</button>
      </li>
    </ul>
  </div>
</nav>


<!-- HERO SECTION -->
<section class="hero">
  <div class="hero-content">
    <h1 data-translate="hero.title">Bienvenue chez Bun'Deal</h1>
    <p data-translate="hero.subtitle">Des burgers frais, savoureux et servis en un Ã©clair !</p>
    <a href="/menu.html" class="btn-order" data-translate="hero.cta">Voir le menu</a>
  </div>
</section>

<!-- CONTENU PRINCIPAL -->
<div class="container my-5">
  <h2 class="text-center mb-4" data-translate="bestsellers.title">Nos Best-Sellers</h2>
  <div class="row g-4">
    <!-- Carte 1 -->
    <div class="col-md-4">
      <div class="card h-100 shadow">
        <img src="images/Special-burger.png" width=400px height=350px class="card-img-top" alt="Burger SpÃ©cial">
        <div class="card-body text-center">
          <h5 class="card-title" data-translate="bestsellers.burger_special.title">Burger SpÃ©cial</h5>
          <p class="card-text" data-translate="bestsellers.burger_special.description">Un steak savoureux, du fromage fondant et notre sauce maison.</p>
          <p class="fw-bold text-success">9,50 â‚¬</p>
          <a href="#" class="btn btn-primary add-to-cart" 
             data-name="Burger SpÃ©cial" 
             data-price="9.50" 
             data-img="images/burger.jpg"
             data-translate="bestsellers.add_to_cart">Ajouter au panier</a>
        </div>
      </div>
    </div>
    <!-- Carte 2 -->
    <div class="col-md-4">
      <div class="card h-100 shadow">
        <img src="images/tacos.jpg" width=400px height=350px class="card-img-top" alt="Tacos">
        <div class="card-body text-center">
          <h5 class="card-title" data-translate="bestsellers.menu_tacos.title">Menu Tacos</h5>
          <p class="card-text" data-translate="bestsellers.menu_tacos.description">Garniture au choix, sauce fromagÃ¨re et frites incluses.</p>
          <p class="fw-bold text-success">10,50 â‚¬</p>
          <button class="btn btn-primary" id="open-taco-modal" data-translate="bestsellers.add_to_cart">Ajouter au panier</button>
        </div>
      </div>
    </div>
    <!-- Carte 3 -->
    <div class="col-md-4">
      <div class="card h-100 shadow">
        <img src="images/Menu-enfant.jpg" width=400px height=350px class="card-img-top" alt="Menu Enfant">
        <div class="card-body text-center">
          <h5 class="card-title" data-translate="bestsellers.menu_enfant.title">Menu Enfant</h5>
          <p class="card-text" data-translate="bestsellers.menu_enfant.description">Mini burger, frites et jus de fruits. Jouet offert !</p>
          <p class="fw-bold text-success">6,50 â‚¬</p>
          <button class="btn btn-primary" id="open-child-modal" data-translate="bestsellers.add_to_cart">Ajouter au panier</button>
        </div>
      </div>
    </div>
    <!-- Carte 4 -->
    <div class="col-md-4">
      <div class="card h-100 shadow">
        <img src="images/mixed-tacos.jpg" width=400px height=350px class="card-img-top" alt="Tacos-Mixed">
        <div class="card-body text-center">
          <h5 class="card-title" data-translate="bestsellers.assiette_tapas.title">Tacos Mixed</h5>
          <p class="card-text" data-translate="bestsellers.assiette_tapas.description">Formule pour vos soirÃ©es ou apÃ©ros. Choix de 7 Tacos parmi notre sÃ©lection de tacos !</p>
          <p class="fw-bold text-success">45,50â‚¬</p>
          <button class="btn btn-primary" id="open-tapas-modal" data-translate="bestsellers.add_to_cart">Ajouter au panier</button>
        </div>
      </div>
    </div>
    <!-- Carte 5 -->
    <div class="col-md-4">
      <div class="card h-100 shadow">
        <img src="images/tenders.jpg" width=400px height=350px class="card-img-top" alt="Tenders">
        <div class="card-body text-center">
          <h5 class="card-title" data-translate="bestsellers.tenders.title">Tenders de poulet</h5>
          <p class="card-text" data-translate="bestsellers.tenders.description">4 Tenders de poulet panÃ© maison avec Ã©pices, sÃ©sames et ciboulette</p>
          <p class="fw-bold text-success">3,50 â‚¬</p>
          <a href="#" class="btn btn-primary add-to-cart" 
             data-name="Tenders de poulet" 
             data-price="3.50" 
             data-img="images/tenders.jpg"
             data-translate="bestsellers.add_to_cart">Ajouter au panier</a>
        </div>
      </div>
    </div>
  </div>
</div>

<article class="container" id="pourquoi-nous">
    <img src="images/produits.jpg" alt="Produits locaux" class="product-img">
    <h2 data-translate="about.title">POURQUOI NOUS ?</h2>
    <p data-translate="about.text">Chez Bun'deal, on ne fait pas de compromis entre goÃ»t, qualitÃ© et engagement.
Notre promesse : une cuisine fraÃ®che, faite maison, avec des ingrÃ©dients locaux et de qualitÃ©. Chaque bun, chaque garniture, chaque sauce est prÃ©parÃ© avec soin, dans notre cuisine, Ã  partir de produits bruts issus de producteurs locaux sÃ©lectionnÃ©s pour leur savoir-faire et leur respect de la terre.

En choisissant Bun'deal, vous soutenez une entreprise qui agit concrÃ¨tement pour le dÃ©veloppement du terroir et de notre rÃ©gion. Vous encouragez une Ã©conomie plus responsable, plus humaine et plus savoureuse.

Bun'deal, câ€™est bien plus quâ€™un repas : câ€™est un deal gagnant entre vous, la planÃ¨te, et nos producteurs. </p>
</article>

<div class="container my-5">
  <h2 class="text-center mb-4" data-translate="testimonials.title">Ce que nos clients disent de nous</h2>
  <div class="row g-4">
    <div class="col-md-4">
      <div class="testimonial-card">
        <div class="stars">â˜…â˜…â˜…â˜…â˜…</div>
        <p class="quote" data-translate="testimonials.review1">"Les burgers sont incroyables ! Le pain est moelleux, la viande est juteuse et la sauce maison... un dÃ©lice !"</p>
        <p class="author">â€” Camille R.</p>
      </div>
    </div>
    <div class="col-md-4">
      <div class="testimonial-card">
        <div class="stars">â˜…â˜…â˜…â˜…â˜†</div>
        <p class="quote" data-translate="testimonials.review2">"Livraison rapide et super chaude Ã  l'arrivÃ©e. Les frites sont croustillantes, rien Ã  redire."</p>
        <p class="author">â€” Mehdi L.</p>
      </div>
    </div>
    <div class="col-md-4">
      <div class="testimonial-card">
        <div class="stars">â˜…â˜…â˜…â˜…â˜…</div>
        <p class="quote" data-translate="testimonials.review3">"Le menu enfant est parfait pour mes petits. Ils adorent et moi aussi ! Et en plus, le jouet est trop mignon."</p>
        <p class="author">â€” Sarah D.</p>
      </div>
    </div>
  </div>
</div>


<!-- Footer -->
<div class="footer-clean bg-light pt-4">
  <footer>
    <div class="container">
      <div class="row justify-content-center">
        <div class="col-sm-4 col-md-3 item">
          <h3 data-translate="footer.services">Services</h3>
          <ul>
            <li><a href="menu.html" data-translate="nav.menu">Menu</a></li>
            <li><a href="Contact.html" data-translate="footer.events">Ã‰vÃ¨nements</a></li>
            <li><a href="Contact.html" data-translate="footer.special_orders">Commandes spÃ©ciales</a></li>
          </ul>
        </div>
        <div class="col-sm-4 col-md-3 item">
          <h3 data-translate="footer.about">About</h3>
          <ul>
            <li><a href="apropos.html" data-translate="footer.company">Company</a></li>
            <li><a href="apropos.html" data-translate="footer.team">Team</a></li>
            <li><a href="apropos.html" data-translate="footer.legacy">Legacy</a></li>
          </ul>
        </div>
        <div class="col-sm-4 col-md-3 item">
          <h3 data-translate="footer.contact">Contact</h3>
          <ul>
            <li><a href="Contact.html" data-translate="footer.contact_us">Nous contacter</a></li>
            <li><a href="Contact.html" data-translate="footer.join_us">Nous rejoindre</a></li>
            <li><a href="apropos.html" data-translate="footer.find_us">Nous trouver</a></li>
          </ul>
        </div>
        <div class="col-lg-3 item social text-center">
          <a href="#"><img src="images/FB.webp" alt="Facebook" class="footer-social-logo"></a>
          <a href="#"><img src="images/twitter.png" alt="Twitter" class="footer-social-logo"></a>
          <a href="#"><img src="images/snapchat.webp" alt="Snapchat" class="footer-social-logo"></a>
          <a href="#"><img src="images/insta.png" alt="Instagram" class="footer-social-logo"></a>
          <p class="copyright mt-2" data-translate="footer.copyright">Bun'Deal Â© 2025</p>
        </div>
      </div>
    </div>
  </footer>
</div>

<!-- Modal panier -->
<div class="modal" tabindex="-1" id="cart-modal">
  <div style="background:#fff; margin:5% auto; padding:20px; max-width:500px; border-radius:8px; position:relative;">
    <h4 data-translate="modals.cart.title">Votre panier</h4>
    <ul id="cart-items" style="list-style:none; padding:0;"></ul>
    <p><span data-translate="modals.cart.total">Total</span> : <span id="cart-total">0.00</span> â‚¬</p>
    <div class="d-flex justify-content-between gap-2 mt-3">
      <button class="btn btn-danger flex-fill" id="clear-cart" data-translate="modals.cart.clear">Vider le panier</button>
      <button class="btn btn-success flex-fill" id="validate-cart" data-translate="modals.cart.validate">Valider le panier</button>
      <button class="btn btn-secondary flex-fill" id="close-cart" data-translate="modals.cart.close">Fermer</button>
    </div>
  </div>
</div>

<!-- Modal choix menu (rÃ©utilisable pour Menu Tacos et Menu Enfant) -->
<div class="modal" tabindex="-1" id="menu-choice-modal" style="display:none; position:fixed; top:0; left:0; width:100vw; height:100vh; background:rgba(0,0,0,0.5); z-index:9999;">
  <div class="cart-modal-content" style="max-width:400px;">
    <h4 data-translate="modals.menu_choice.title">Choisissez votre burger et boisson</h4>
    <form id="menu-choice-form">
      <div class="mb-3">
        <label for="burger-choice" class="form-label" data-translate="modals.menu_choice.burger_label">Burger/Tacos</label>
        <select id="burger-choice" class="form-select" required>
          <!-- Options gÃ©nÃ©rÃ©es dynamiquement selon le type de menu -->
        </select>
      </div>
      <div class="mb-3">
        <label for="boisson-choice" class="form-label" data-translate="modals.menu_choice.drink_label">Boisson</label>
        <select id="boisson-choice" class="form-select" required>
          <!-- Options gÃ©nÃ©rÃ©es par JavaScript -->
        </select>
      </div>
      <button type="submit" class="btn btn-primary w-100" data-translate="modals.menu_choice.add_button">Ajouter au panier</button>
      <button type="button" class="btn btn-secondary w-100 mt-2" id="close-menu-choice" data-translate="modals.menu_choice.cancel_button">Annuler</button>
    </form>
  </div>
</div>

<!-- Modal choix assiette tapas (garde celle-ci car elle est spÃ©cifique) -->
<div class="modal" tabindex="-1" id="tapas-choice-modal" style="display:none; position:fixed; top:0; left:0; width:100vw; height:100vh; background:rgba(0,0,0,0.5); z-index:9999;">
  <div style="background:#fff; margin:3% auto; padding:30px; max-width:500px; border-radius:12px; position:relative;">
    <h4 class="text-center mb-4" data-translate="modals.tapas.title">Composez votre Assiette Tacos</h4>
    <p class="text-center text-muted mb-4" data-translate="modals.tapas.subtitle">Choisissez 7 tacos parmi nos garnitures</p>
    
    <div class="row g-3">
      <div class="col-md-6">
        <label class="form-label fw-bold" data-translate="modals.tapas.labels.poulet">Tacos Poulet :</label>
        <select class="form-select" id="tapas-poulet">
          <option value="0">0</option>
          <option value="1">1</option>
          <option value="2">2</option>
          <option value="3">3</option>
          <option value="4">4</option>
          <option value="5">5</option>
          <option value="6">6</option>
          <option value="7">7</option>
        </select>
      </div>
      <div class="col-md-6">
        <label class="form-label fw-bold" data-translate="modals.tapas.labels.boeuf">Tacos BÅ“uf :</label>
        <select class="form-select" id="tapas-boeuf">
          <option value="0">0</option>
          <option value="1">1</option>
          <option value="2">2</option>
          <option value="3">3</option>
          <option value="4">4</option>
          <option value="5">5</option>
          <option value="6">6</option>
          <option value="7">7</option>
        </select>
      </div>
      <div class="col-md-6">
        <label class="form-label fw-bold" data-translate="modals.tapas.labels.poisson">Tacos Poisson :</label>
        <select class="form-select" id="tapas-poisson">
          <option value="0">0</option>
          <option value="1">1</option>
          <option value="2">2</option>
          <option value="3">3</option>
          <option value="4">4</option>
          <option value="5">5</option>
          <option value="6">6</option>
          <option value="7">7</option>
        </select>
      </div>
      <div class="col-md-6">
        <label class="form-label fw-bold" data-translate="modals.tapas.labels.agneau">Tacos Agneau :</label>
        <select class="form-select" id="tapas-agneau">
          <option value="0">0</option>
          <option value="1">1</option>
          <option value="2">2</option>
          <option value="3">3</option>
          <option value="4">4</option>
          <option value="5">5</option>
          <option value="6">6</option>
          <option value="7">7</option>
        </select>
      </div>
    </div>
    
    <div class="alert alert-info mt-3" id="tapas-counter">
      <small><span data-translate="modals.tapas.counter">Total sÃ©lectionnÃ© :</span> <span id="tapas-total">0</span>/7 <span data-translate="modals.tapas.tacos">tacos</span></small>
    </div>
    
    <div class="text-center">
      <button class="btn btn-primary me-2" id="add-tapas-to-cart" disabled data-translate="modals.tapas.add">Ajouter au panier</button>
      <button class="btn btn-secondary" id="close-tapas-modal" data-translate="modals.tapas.cancel">Annuler</button>
    </div>
  </div>
</div>

<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.1.3/js/bootstrap.bundle.min.js"></script>
<script>
// Script de traduction
let currentLang = localStorage.getItem('language') || 'fr';
let translations = {};

// Charge les traductions
async function loadTranslations() {
  try {
    const response = await fetch('translations.json');
    translations = await response.json();
    updateLanguage();
  } catch (error) {
    console.error('Erreur lors du chargement des traductions:', error);
  }
}

// Met Ã  jour tous les textes selon la langue
function updateLanguage() {
  const langButton = document.getElementById('lang-toggle');
  
  // Met Ã  jour le bouton de langue
  if (currentLang === 'fr') {
    langButton.innerHTML = 'ðŸ‡¬ðŸ‡§ EN';
  } else {
    langButton.innerHTML = 'ðŸ‡«ðŸ‡· FR';
  }
  
  // Met Ã  jour tous les Ã©lÃ©ments avec data-translate
  document.querySelectorAll('[data-translate]').forEach(element => {
    const key = element.getAttribute('data-translate');
    const text = getTranslation(key);
    if (text) {
      element.textContent = text;
    }
  });
  
  // Met Ã  jour les modales ouvertes
  updateOpenModals();
}

// RÃ©cupÃ¨re une traduction par clÃ©
function getTranslation(key) {
  const keys = key.split('.');
  let value = translations[currentLang];
  
  for (const k of keys) {
    if (value && value[k]) {
      value = value[k];
    } else {
      return null;
    }
  }
  
  return value;
}

// Gestion du changement de langue
document.addEventListener('DOMContentLoaded', function() {
  loadTranslations();
  updateCartCount();
  
  // Initialise les selects une fois les traductions chargÃ©es
  setTimeout(() => {
    updateSelectOptions();
  }, 100);
  
  document.getElementById('lang-toggle').addEventListener('click', function() {
    currentLang = currentLang === 'fr' ? 'en' : 'fr';
    localStorage.setItem('language', currentLang);
    updateLanguage();
  });
});

// Gestion du panier et des modales
function getCart() {
  return JSON.parse(localStorage.getItem('cart') || '[]');
}
function setCart(cart) {
  localStorage.setItem('cart', JSON.stringify(cart));
  updateCartCount();
}
function updateCartCount() {
  const cart = getCart();
  const el = document.getElementById('cart-count');
  if (el) el.textContent = cart.reduce((sum, item) => sum + item.qty, 0);
}
function renderCart() {
  const cart = getCart();
  const list = document.getElementById('cart-items');
  list.innerHTML = '';
  let total = 0;
  cart.forEach((item, idx) => {
    total += item.price * item.qty;
    const li = document.createElement('li');
    li.innerHTML = `
      <img src="${item.img}" width="40" style="vertical-align:middle;"> 
      ${item.name} x${item.qty} - ${(item.price * item.qty).toFixed(2)} â‚¬
      <button class="btn btn-sm btn-danger" onclick="removeFromCart(${idx})">Supprimer</button>
    `;
    list.appendChild(li);
  });
  document.getElementById('cart-total').textContent = total.toFixed(2);
}
function removeFromCart(idx) {
  const cart = getCart();
  cart.splice(idx, 1);
  setCart(cart);
  renderCart();
}

// Event listeners pour les boutons "Ajouter au panier"
document.querySelectorAll('.add-to-cart').forEach(btn => {
  btn.addEventListener('click', function(e) {
    const name = this.dataset.name;
    // Gestion Menu Enfant (modale)
    if (name === 'Menu Enfant') {
      e.preventDefault();
      window.selectedMenuEnfant = {
        name: this.dataset.name,
        price: parseFloat(this.dataset.price),
        img: this.dataset.img
      };
      document.getElementById('menu-enfant-choice-modal').style.display = 'block';
      return;
    }
    // Gestion Tacos Mixed (modale)
    if (name === 'Tacos Mixed') {
      e.preventDefault();
      window.selectedTacosMixed = {
        name: this.dataset.name,
        price: parseFloat(this.dataset.price),
        img: this.dataset.img
      };
      document.getElementById('tacos-mixed-modal').style.display = 'block';
      return;
    }
    // Ajout direct au panier pour les autres produits
    e.preventDefault();
    const price = parseFloat(this.dataset.price);
    const img = this.dataset.img;
    let cart = getCart();
    const found = cart.find(item => item.name === name);
    if (found) found.qty += 1;
    else cart.push({name, price, img, qty:1});
    setCart(cart);
  });
});

document.getElementById('open-taco-modal').onclick = function(e) {
  e.preventDefault();
  document.getElementById('menu-choice-modal').style.display = 'block';
  
  window.selectedMenu = {
    name: 'Menu Tacos',
    price: 10.50,
    img: 'images/tacos.jpg'
  };
  
  // Applique immÃ©diatement les traductions
  setTimeout(() => {
    updateMenuChoices();
  }, 10);
};

document.getElementById('open-child-modal').onclick = function(e) {
  e.preventDefault();
  document.getElementById('menu-choice-modal').style.display = 'block';
  
  window.selectedMenu = {
    name: 'Menu Enfant',
    price: 6.50,
    img: 'images/Menu-enfant.jpg'
  };
  
  // Applique immÃ©diatement les traductions
  setTimeout(() => {
    updateMenuChoices();
  }, 10);
};

document.getElementById('close-menu-choice').onclick = function() {
  document.getElementById('menu-choice-modal').style.display = 'none';
};

// Gestionnaire pour le formulaire de menu
document.getElementById('menu-choice-form').onsubmit = function(e) {
  e.preventDefault();
  
  const burgerSelect = document.getElementById('burger-choice');
  const drinkSelect = document.getElementById('boisson-choice');
  
  const burgerValue = burgerSelect.value;
  const drinkValue = drinkSelect.value;
  
  if (!burgerValue || !drinkValue) {
    alert('Veuillez sÃ©lectionner tous les Ã©lÃ©ments');
    return;
  }
  
  // RÃ©cupÃ¨re les textes traduits
  const burgerText = burgerSelect.options[burgerSelect.selectedIndex].text;
  const drinkText = drinkSelect.options[drinkSelect.selectedIndex].text;
  
  const name = `${window.selectedMenu.name} ${burgerText} + ${drinkText}`;
  const price = window.selectedMenu.price;
  const img = window.selectedMenu.img;
  
  let cart = getCart();
  const found = cart.find(item => item.name === name);
  if (found) found.qty += 1;
  else cart.push({name, price, img, qty:1});
  setCart(cart);
  
  // Ferme la modale aprÃ¨s ajout
  document.getElementById('menu-choice-modal').style.display = 'none';
};

document.getElementById('open-cart').onclick = function(e) {
  e.preventDefault();
  document.getElementById('cart-modal').style.display = 'block';
  renderCart();
};

document.getElementById('close-cart').onclick = function() {
  document.getElementById('cart-modal').style.display = 'none';
};

document.getElementById('clear-cart').onclick = function() {
  setCart([]);
  renderCart();
};

document.getElementById('open-tapas-modal').onclick = function(e) {
  e.preventDefault();
  document.getElementById('tapas-choice-modal').style.display = 'block';
  updateTapasCounter();
};

document.getElementById('close-tapas-modal').onclick = function() {
  document.getElementById('tapas-choice-modal').style.display = 'none';
};

function updateTapasCounter() {
  const poulet = parseInt(document.getElementById('tapas-poulet').value);
  const boeuf = parseInt(document.getElementById('tapas-boeuf').value);
  const poisson = parseInt(document.getElementById('tapas-poisson').value);
  const agneau = parseInt(document.getElementById('tapas-agneau').value);
  
  const total = poulet + boeuf + poisson + agneau;
  document.getElementById('tapas-total').textContent = total;
  
  const addButton = document.getElementById('add-tapas-to-cart');
  if (total === 7) {
    addButton.disabled = false;
    addButton.classList.remove('btn-secondary');
    addButton.classList.add('btn-primary');
  } else {
    addButton.disabled = true;
    addButton.classList.remove('btn-primary');
    addButton.classList.add('btn-secondary');
  }
}

// Ã‰couter les changements sur tous les selects
['tapas-poulet', 'tapas-boeuf', 'tapas-poisson', 'tapas-agneau'].forEach(id => {
  document.getElementById(id).addEventListener('change', updateTapasCounter);
});

document.getElementById('add-tapas-to-cart').onclick = function() {
  const poulet = parseInt(document.getElementById('tapas-poulet').value);
  const boeuf = parseInt(document.getElementById('tapas-boeuf').value);
  const poisson = parseInt(document.getElementById('tapas-poisson').value);
  const agneau = parseInt(document.getElementById('tapas-agneau').value);
  
  let composition = [];
  if (poulet > 0) composition.push(`${poulet} Poulet`);
  if (boeuf > 0) composition.push(`${boeuf} BÅ“uf`);
  if (poisson > 0) composition.push(`${poisson} Poisson`);
  if (agneau > 0) composition.push(`${agneau} Agneau`);
  
  const name = `Assiette Tapas (${composition.join(', ')})`;
  const price = 12.00;
  const img = 'images/mixed-tacos.jpg';
  
  let cart = getCart();
  const found = cart.find(item => item.name === name);
  if (found) found.qty += 1;
  else cart.push({name, price, img, qty:1});
  setCart(cart);
  
  // Ferme la modale aprÃ¨s ajout
  document.getElementById('tapas-choice-modal').style.display = 'none';
  
  // Remet Ã  zÃ©ro les sÃ©lections
  ['tapas-poulet', 'tapas-boeuf', 'tapas-poisson', 'tapas-agneau'].forEach(id => {
    document.getElementById(id).value = '0';
  });
};

document.getElementById('validate-cart').onclick = function() {
  const cart = getCart();
  if (cart.length === 0) {
    alert('Votre panier est vide !');
    return;
  }
  
  // Sauvegarde le panier pour la page de commandes
  localStorage.setItem('orderToConfirm', JSON.stringify(cart));
  
  // Redirige vers la page de commandes (avec majuscule)
  window.location.href = 'Commandes.html';
};

// Ajoute ces fonctions dans le script de index.html

function updateMenuChoices() {
  const modal = document.getElementById('menu-choice-modal');
  if (modal && modal.style.display === 'block') {
    const title = modal.querySelector('h4');
    const burgerLabel = modal.querySelector('label[for="burger-choice"]');
    const drinkLabel = modal.querySelector('label[for="boisson-choice"]');
    const submitBtn = modal.querySelector('button[type="submit"]');
    const cancelBtn = modal.querySelector('#close-menu-choice');
    const burgerSelect = modal.querySelector('#burger-choice');
    const drinkSelect = modal.querySelector('#boisson-choice');
    
    // Traduit le titre selon le type de menu
    if (title) {
      if (window.selectedMenu && window.selectedMenu.name === 'Menu Enfant') {
        title.textContent = getTranslation('modals.menu_choice.kid_menu.title') || 'Choisissez votre plat et boisson';
        if (burgerLabel) {
          burgerLabel.textContent = getTranslation('modals.menu_choice.kid_menu.dish_label') || 'Plat';
        }
      } else {
        title.textContent = getTranslation('modals.menu_choice.title') || 'Choisissez votre burger et boisson';
        if (burgerLabel) {
          burgerLabel.textContent = getTranslation('modals.menu_choice.burger_label') || 'Burger/Tacos';
        }
      }
    }
    
    // Traduit les labels
    if (drinkLabel) {
      drinkLabel.textContent = getTranslation('modals.menu_choice.drink_label') || 'Boisson';
    }
    
    // Traduit les boutons
    if (submitBtn) {
      submitBtn.textContent = getTranslation('modals.menu_choice.add_button') || 'Ajouter au panier';
    }
    if (cancelBtn) {
      cancelBtn.textContent = getTranslation('modals.menu_choice.cancel_button') || 'Annuler';
    }
    
    // Traduit les options des selects
    if (burgerSelect && drinkSelect) {
      const burgerCurrentValue = burgerSelect.value;
      const drinkCurrentValue = drinkSelect.value;
      
      // Options selon le type de menu
      if (window.selectedMenu && window.selectedMenu.name === 'Menu Enfant') {
        const dishPlaceholder = getTranslation('modals.menu_choice.kid_menu.dish_placeholder') || 'SÃ©lectionnez un plat';
        const cheeseburgerText = getTranslation('modals.menu_choice.kid_menu.choices.cheeseburger') || 'Cheeseburger de boeuf';
        const nuggetsText = getTranslation('modals.menu_choice.kid_menu.choices.nuggets') || '6 Nuggets de poulet';
        
        burgerSelect.innerHTML = `
          <option value="">${dishPlaceholder}</option>
          <option value="cheeseburger">${cheeseburgerText}</option>
          <option value="nuggets">${nuggetsText}</option>
        `;
      } else {
        // Menu Tacos : seulement les garnitures
        const garniturePlaceholder = getTranslation('modals.menu_choice.burger_placeholder') || 'SÃ©lectionnez une garniture';
        const pouletText = getTranslation('modals.menu_choice.burger_choices.tacos_poulet') || 'Tacos de Poulet';
        const boeufText = getTranslation('modals.menu_choice.burger_choices.tacos_boeuf') || 'Tacos de Boeuf';
        const poissonText = getTranslation('modals.menu_choice.burger_choices.tacos_poisson') || 'Tacos de Poisson';
        const agneauText = getTranslation('modals.menu_choice.burger_choices.tacos_agneau') || 'Tacos d\'Agneau';
        
        burgerSelect.innerHTML = `
          <option value="">${garniturePlaceholder}</option>
          <option value="tacos_poulet">${pouletText}</option>
          <option value="tacos_boeuf">${boeufText}</option>
          <option value="tacos_poisson">${poissonText}</option>
          <option value="tacos_agneau">${agneauText}</option>
        `;
      }
      
      // Traduit les boissons (identique pour tous)
      const drinkPlaceholder = getTranslation('modals.menu_choice.drink_placeholder') || 'SÃ©lectionnez une boisson';
      const cocaColaText = getTranslation('modals.menu_choice.drinks.coca_cola') || 'Coca-Cola';
      const oasisText = getTranslation('modals.menu_choice.drinks.oasis') || 'Oasis';
      const iceTeaText = getTranslation('modals.menu_choice.drinks.ice_tea') || 'Lipton Ice Tea pÃªche';
      const spriteText = getTranslation('modals.menu_choice.drinks.sprite') || 'Sprite';
      const fantaText = getTranslation('modals.menu_choice.drinks.fanta') || 'Fanta';
      const eauMineraleText = getTranslation('modals.menu_choice.drinks.eau_minerale') || 'Eau minÃ©rale';
      const eauGazeuseText = getTranslation('modals.menu_choice.drinks.eau_gazeuse') || 'Eau gazeuse';
      const cocaZeroText = getTranslation('modals.menu_choice.drinks.coca_zero') || 'Coca-Cola ZÃ©ro';
      const jusOrangeText = getTranslation('modals.menu_choice.drinks.jus_orange') || 'Jus d\'orange';
      const jusPommeText = getTranslation('modals.menu_choice.drinks.jus_pomme') || 'Jus de Pomme';
      
      drinkSelect.innerHTML = `
        <option value="">${drinkPlaceholder}</option>
        <option value="coca_cola">${cocaColaText}</option>
        <option value="oasis">${oasisText}</option>
        <option value="ice_tea">${iceTeaText}</option>
        <option value="sprite">${spriteText}</option>
        <option value="fanta">${fantaText}</option>
        <option value="eau_minerale">${eauMineraleText}</option>
        <option value="eau_gazeuse">${eauGazeuseText}</option>
        <option value="coca_zero">${cocaZeroText}</option>
        <option value="jus_orange">${jusOrangeText}</option>
        <option value="jus_pomme">${jusPommeText}</option>
      `;
      
      // Restaure les valeurs sÃ©lectionnÃ©es
      burgerSelect.value = burgerCurrentValue;
      drinkSelect.value = drinkCurrentValue;
    }
  }
}

function updateOpenModals() {
  // Met Ã  jour la modale menu si elle est ouverte
  const menuModal = document.getElementById('menu-choice-modal');
  if (menuModal && menuModal.style.display === 'block') {
    updateMenuChoices();
  }
  
  // Met Ã  jour la modale tapas si elle est ouverte
  const tapasModal = document.getElementById('tapas-choice-modal');
  if (tapasModal && tapasModal.style.display === 'block') {
    // Pas d'options Ã  mettre Ã  jour pour les tapas
  }
}
</script>

<script>
window.addEventListener('scroll', function() {
  const navbar = document.querySelector('.menu');
  // Change ici la valeur (ex: 80) selon la hauteur de ton hero ou du scroll souhaitÃ©
  if(window.scrollY > 80) {
    navbar.classList.add('navbar-colored');
  } else {
    navbar.classList.remove('navbar-colored');
  }
});
</script>

<script src="burger-menu.js"></script>
</body>
</html>
